import{j as n,c as i,r as u}from"./vite-client.js";function l({variantId:t,productTitle:e}){console.log({variantId:t});async function s(){const r=document.querySelector("cart-drawer"),d=await(await fetch("/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:[{quantity:1,id:t}],sections:r.getSectionsToRender().map(c=>c.id)})})).json();console.log("response===>",d),r.renderContents(d);const a=document.querySelector("#add-to-cart-button");a&&a.dispatchEvent(new CustomEvent("product-added",{detail:{id:t}}))}return n.jsxs("button",{onClick:s,children:["Add ",e," to cart"]})}const o=document.getElementById("add-to-cart-button");if(o){const t=o.dataset.variantId,e=o.dataset.productTitle;t&&e&&i.createRoot(o).render(n.jsx(u.StrictMode,{children:n.jsx(l,{variantId:Number.parseInt(t),productTitle:e})}))}
